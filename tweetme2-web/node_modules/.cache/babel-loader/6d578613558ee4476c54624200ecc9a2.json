{"ast":null,"code":"import _slicedToArray from\"/home/michel/Desktop/Machine Learning/Twitter_React/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{apiProfileDetail,apiProfileFollowToggle}from'./lookup';import{UserDisplay,UserPicture}from'./components';import{DisplayCount}from'./utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfileBadge(props){var user=props.user,didFollowToggle=props.didFollowToggle,profileLoading=props.profileLoading;console.log(user);var currentVerb=user&&user.is_following?\"Unfollow\":\"Follow\";currentVerb=profileLoading?\"Loading...\":currentVerb;var handleFollowToggle=function handleFollowToggle(event){event.preventDefault();if(didFollowToggle&&!profileLoading){didFollowToggle(currentVerb);}};return user?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(UserPicture,{user:user,hideLink:true}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(UserDisplay,{user:user,includeFullName:true,hideLink:true})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(DisplayCount,{children:user.follower_count}),\" \",user.follower_count===1?\"follower\":\"followers\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(DisplayCount,{children:user.following_count}),\" following\"]}),/*#__PURE__*/_jsx(\"p\",{children:user.location}),/*#__PURE__*/_jsx(\"p\",{children:user.bio}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleFollowToggle,children:currentVerb})]}):null;}export function ProfileBadgeComponent(props){var username=props.username;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),didLookup=_useState2[0],setDidLookup=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),profile=_useState4[0],setProfile=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),profileLoading=_useState6[0],setProfileLoading=_useState6[1];var handleBackendLookup=function handleBackendLookup(response,status){if(status===200){setProfile(response);}};useEffect(function(){if(didLookup===false){apiProfileDetail(username,handleBackendLookup);setDidLookup(true);}},[username,didLookup,setDidLookup]);var handleNewFollow=function handleNewFollow(actionVerb){apiProfileFollowToggle(username,actionVerb,function(response,status){console.log(response,status);if(status===200){setProfile(response);}setProfileLoading(false);});setProfileLoading(true);};return didLookup===false?\"Loading...\":profile?/*#__PURE__*/_jsx(ProfileBadge,{user:profile,didFollowToggle:handleNewFollow,profileLoading:profileLoading}):null;}","map":{"version":3,"sources":["/home/michel/Desktop/Machine Learning/Twitter_React/tweetme2-web/src/profiles/badge.js"],"names":["React","useEffect","useState","apiProfileDetail","apiProfileFollowToggle","UserDisplay","UserPicture","DisplayCount","ProfileBadge","props","user","didFollowToggle","profileLoading","console","log","currentVerb","is_following","handleFollowToggle","event","preventDefault","follower_count","following_count","location","bio","ProfileBadgeComponent","username","didLookup","setDidLookup","profile","setProfile","setProfileLoading","handleBackendLookup","response","status","handleNewFollow","actionVerb"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {apiProfileDetail, apiProfileFollowToggle} from './lookup'\nimport {UserDisplay, UserPicture} from './components';\nimport {DisplayCount} from './utils'\n\n\nfunction ProfileBadge(props) {\n    const {user, didFollowToggle, profileLoading} = props\n    console.log(user)\n    let currentVerb = (user && user.is_following) ? \"Unfollow\" : \"Follow\"\n    currentVerb = profileLoading ? \"Loading...\" : currentVerb\n    const handleFollowToggle = (event) => {\n        event.preventDefault()\n        if (didFollowToggle && !profileLoading) {\n            didFollowToggle(currentVerb)\n        }\n    }\n    return user ? <div>\n                <UserPicture user={user} hideLink />\n                <p><UserDisplay user={user} includeFullName hideLink/></p>\n                <p><DisplayCount>{user.follower_count}</DisplayCount> {user.follower_count === 1 ? \"follower\" : \"followers\"}</p>\n                <p><DisplayCount>{user.following_count}</DisplayCount> following</p>\n                <p>{user.location}</p>\n                <p>{user.bio}</p>\n                <button className='btn btn-primary' onClick={handleFollowToggle}>{currentVerb}</button>\n\n            </div> : null\n}\n\n\nexport function ProfileBadgeComponent(props) {\n    const {username} = props\n\n    const [didLookup, setDidLookup] = useState(false)\n    const [profile, setProfile] = useState(null)\n    const [profileLoading, setProfileLoading] = useState(false)\n    const handleBackendLookup = (response, status) => {\n      if (status === 200) {\n        setProfile(response)\n      } \n    }\n  \n    useEffect(() =>{\n      if (didLookup === false) {\n        apiProfileDetail(username, handleBackendLookup)\n        setDidLookup(true)\n      }\n  \n    }, [username, didLookup, setDidLookup])\n\n    const handleNewFollow = (actionVerb) => {\n      \n        apiProfileFollowToggle(username, actionVerb, (response, status)=>{\n            console.log(response, status)\n            if (status===200) {\n                setProfile(response)\n            }\n            setProfileLoading(false)\n        })\n        setProfileLoading(true)\n    }\n    return didLookup === false ? \"Loading...\" : profile ?  <ProfileBadge user={profile} didFollowToggle={handleNewFollow} profileLoading={profileLoading} /> : null\n}"]},"metadata":{},"sourceType":"module"}